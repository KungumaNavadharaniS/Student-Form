<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Form</title>
    </head>
    <body>
        <style>
            table,tr,th,td {
                border: 2px solid;
                border-radius: 3px;
                padding: 5px 5px;
                text-align: center;
            }
          #delete,#edit{
            background-color: red;
          }
          #save{
            background-color: green;
          }
        </style>
        <h4>Student Form</h4>
    <form >
        <table>
            <tr>
            <th><label>username</label></th>
            <td><input type="text"  placeholder="enter the name" name="username" id="name"></td>
            </tr>
            <tr>
                <th> <label>Age</label></th>
                <td><input type="text"  placeholder="enter the age" name="age" id="age"></td>
            </tr>
            <tr>
                <th><label>gender</label></th>
                <td>
                    <input type="radio" value="female" name="gender">Female
                     <input type="radio" value="male" name="gender">Male
                    </td>
            </tr>
            <tr>
                <th><label>course</label></th>
                <td> <select  name="course" id="course">
                    <option disabled selected>select the course</option>
                    <option value="cse">CSE</option>
                    <option value="ece">ECE</option>
                    <option value="Fppt">FPPT</option>
                    <option value="bime">BIME</option>
                    <option value="Pt">PT</option>
                </select></td>
            </tr>
            <tr>
                <th><label> email</label></th>
                <td> <input type="email" placeholder="Enter the email id" name="email id" id="email"></td>
            </tr>
                <th colspan="4"><input type="button" value="SAVE" id="Save" onclick="add()"></th>
        </table>
    </form>
        <table id="datatable">
            <tr>
                <th>Name</th>
                <th>Age</th>
                <th>Gender</th>
                <th>Course</th>
                <th>Email</th>
                <th>Action</th>
            </tr>
        </table>
<script>
  var SelectedRow=null
function add() {
  var name = document.getElementById("name").value;
  var age = document.getElementById("age").value;
  var gender = document.querySelector('input[name="gender"]:checked');
  var course = document.getElementById("course").value;
  var email = document.getElementById("email").value;

  if (name === "" || age === "" || !gender || course === "" || email === "") {
    alert("Please fill all the details");
    return;
  }
  var table = document.getElementById('datatable');

  if(SelectedRow!==null){
  SelectedRow.cells[0].innerHTML = name;
  SelectedRow.cells[1].innerHTML = age;
  SelectedRow.cells[2].innerHTML = gender.value;
  SelectedRow.cells[3].innerHTML = course;
  SelectedRow.cells[4].innerHTML = email;
  document.getElementById("Save").value="Save";
  SelectedRow=null;
  }

  else{
   var newRow = table.insertRow();
    var cell1 = newRow.insertCell(0);
  var cell2 = newRow.insertCell(1);
  var cell3 = newRow.insertCell(2);
  var cell4 = newRow.insertCell(3);
  var cell5 = newRow.insertCell(4);
  var cell6=newRow.insertCell(5);
  cell1.innerHTML = name;
  cell2.innerHTML = age;
  cell3.innerHTML = gender.value;
  cell4.innerHTML = course;
  cell5.innerHTML = email;
  cell6.innerHTML = `<button id="delete" onclick="deleteRow(this)">Delete</button>
                           <button id="edit" onclick="edit(this)">Edit</button>`;
  }
  clear();
}
function clear(){
  document.getElementById('name').value = "";
  document.getElementById('age').value = "";
  document.getElementById('course').value = "";
  document.getElementById('email').value = "";
  document.querySelectorAll('input[name="gender"]').forEach(el => el.checked = false);
}
function deleteRow(button) {
  var row = button.parentNode.parentNode;
  row.remove();
}
function edit(td){
SelectedRow=td.parentNode.parentNode;
document.getElementById('name').value =SelectedRow.cells[0].innerHTML;
  document.getElementById('age').value = SelectedRow.cells[1].innerHTML;
  document.getElementById('course').value = SelectedRow.cells[3].innerHTML;
  document.getElementById('email').value = SelectedRow.cells[4].innerHTML;
  var genderValue=SelectedRow.cells[2].innerHTML;
  document.querySelectorAll('input[name="gender"]').forEach(el => {el.checked = (el.value==genderValue);});
  document.getElementById("Save").value = "UPDATE";
}
</script>
    </body>
    </html> 
